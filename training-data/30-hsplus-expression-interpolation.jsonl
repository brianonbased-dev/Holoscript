{"messages": [{"role": "system", "content": "You are Brittney, a spatial programming assistant. Generate HoloScript code from natural language descriptions."}, {"role": "user", "content": "How do I use expression interpolation in HoloScript?"}, {"role": "assistant", "content": "HoloScript supports `${...}` expression interpolation for dynamic values:\n\n```holoscript\nscene DynamicScene {\n  state {\n    playerName: 'Hero'\n    score: 1500\n    level: 3\n    health: 75\n    maxHealth: 100\n  }\n  \n  // String interpolation in UI\n  ui_panel HUD {\n    text ScoreDisplay {\n      content: \"Score: ${state.score}\"\n      position: [10, 10]\n    }\n    \n    text LevelDisplay {\n      content: \"Level ${state.level} - ${state.playerName}\"\n      position: [10, 40]\n    }\n    \n    text HealthDisplay {\n      content: \"HP: ${state.health}/${state.maxHealth}\"\n      position: [10, 70]\n    }\n  }\n  \n  // Interpolation in object properties\n  object DynamicSign {\n    text3d: \"Welcome, ${state.playerName}!\"\n    position: [0, 2, -3]\n  }\n  \n  // Math expressions\n  object HealthBar {\n    width: ${state.health / state.maxHealth * 2}  // 0-2 meters based on %\n    color: ${state.health < 30 ? '#ff0000' : '#00ff00'}\n  }\n  \n  // Array index interpolation\n  state {\n    weapons: ['Sword', 'Bow', 'Staff']\n    currentWeapon: 0\n  }\n  \n  text WeaponName {\n    content: \"Equipped: ${state.weapons[state.currentWeapon]}\"\n  }\n}\n```\n\n**Interpolation contexts:**\n- String values: `\"Hello ${name}\"`\n- Numeric properties: `width: ${calc}`\n- Conditional: `${condition ? valueA : valueB}`\n- Array access: `${array[index]}`\n- Method calls: `${object.method()}`"}]}
{"messages": [{"role": "system", "content": "You are Brittney, a spatial programming assistant. Generate HoloScript code from natural language descriptions."}, {"role": "user", "content": "Dynamic object generation with interpolation"}, {"role": "assistant", "content": "Here's dynamic object generation using interpolation:\n\n```holoscript\nscene DynamicWorld {\n  state {\n    gridSize: 5\n    spacing: 1.5\n    baseColor: '#4488ff'\n  }\n  \n  // Generate grid of objects with interpolated positions\n  @for (let x = 0; x < state.gridSize; x++) {\n    @for (let z = 0; z < state.gridSize; z++) {\n      object Block_${x}_${z} {\n        geometry: 'box'\n        position: [${x * state.spacing}, 0, ${z * state.spacing}]\n        \n        // Color gradient based on position\n        trait Material {\n          color: \"hsl(${(x + z) * 20}, 70%, 50%)\"\n        }\n        \n        // Unique ID for each block\n        data {\n          gridX: ${x}\n          gridZ: ${z}\n          id: \"block_${x}_${z}\"\n        }\n        \n        @on_grab {\n          console.log(\"Grabbed block at ${x}, ${z}\")\n        }\n      }\n    }\n  }\n  \n  // Dynamic prefab instantiation\n  state {\n    enemyTypes: ['Goblin', 'Orc', 'Troll']\n    spawnPoints: [[0, 0, 5], [3, 0, 5], [-3, 0, 5]]\n  }\n  \n  @on_mount {\n    for (let i = 0; i < state.spawnPoints.length; i++) {\n      let type = state.enemyTypes[i % state.enemyTypes.length]\n      let pos = state.spawnPoints[i]\n      \n      spawn \"${type}\" {\n        position: pos\n        name: \"${type}_${i}\"\n        state: {\n          spawnIndex: ${i}\n        }\n      }\n    }\n  }\n}\n```\n\nInterpolation in generation:\n- Object names: `Block_${x}_${z}`\n- Positions: `[${x * spacing}, 0, ${z * spacing}]`\n- Colors: `hsl(${calculated}, 70%, 50%)`\n- Prefab names: `spawn \"${type}\"`"}]}
{"messages": [{"role": "system", "content": "You are Brittney, a spatial programming assistant. Generate HoloScript code from natural language descriptions."}, {"role": "user", "content": "Use interpolation for asset paths"}, {"role": "assistant", "content": "Here's interpolation for dynamic asset loading:\n\n```holoscript\nscene AssetLoader {\n  state {\n    assetBase: 'assets/models'\n    textureBase: 'assets/textures'\n    currentTheme: 'forest'\n    quality: 'high'\n  }\n  \n  // Dynamic mesh loading\n  object Tree {\n    mesh: \"${state.assetBase}/trees/${state.currentTheme}_tree.glb\"\n    position: [0, 0, -5]\n  }\n  \n  // Quality-based asset selection\n  object Terrain {\n    mesh: \"${state.assetBase}/terrain_${state.quality}.glb\"\n    \n    trait Material {\n      texture: \"${state.textureBase}/${state.currentTheme}/ground_${state.quality}.jpg\"\n      normal_map: \"${state.textureBase}/${state.currentTheme}/ground_normal.jpg\"\n    }\n  }\n  \n  // Character with variant selection\n  state {\n    characterClass: 'warrior'\n    skinVariant: 2\n  }\n  \n  object PlayerCharacter {\n    mesh: \"assets/characters/${state.characterClass}/model.glb\"\n    \n    trait Material {\n      texture: \"assets/characters/${state.characterClass}/skin_${state.skinVariant}.png\"\n    }\n    \n    // Animation based on class\n    animation Idle {\n      clip: \"assets/animations/${state.characterClass}_idle.glb\"\n      loop: true\n    }\n  }\n  \n  // Localized assets\n  state {\n    language: 'en'\n  }\n  \n  object SignPost {\n    mesh: 'assets/props/signpost.glb'\n    \n    texture_override: \"assets/ui/signs/${state.language}/welcome.png\"\n  }\n  \n  // Platform-specific assets\n  state {\n    platform: 'quest'  // 'quest', 'pcvr', 'mobile'\n  }\n  \n  object DetailedProp {\n    mesh: \"assets/props/statue_${state.platform}.glb\"\n    \n    trait Material {\n      // Lower res textures for mobile\n      texture: \"assets/textures/statue_${state.platform === 'mobile' ? '512' : '2048'}.jpg\"\n    }\n  }\n  \n  // Audio with theme\n  ambient_audio {\n    source: \"assets/audio/${state.currentTheme}_ambience.mp3\"\n    volume: 0.5\n    loop: true\n  }\n  \n  action changeTheme(newTheme) {\n    state.currentTheme = newTheme\n    // Assets auto-reload with new paths\n  }\n}\n```\n\nAsset interpolation patterns:\n- Theme switching: `${theme}_asset.glb`\n- Quality levels: `asset_${quality}.glb`\n- Localization: `${language}/text.png`\n- Platform variants: `${platform}_model.glb`"}]}
{"messages": [{"role": "system", "content": "You are Brittney, a spatial programming assistant. Generate HoloScript code from natural language descriptions."}, {"role": "user", "content": "Interpolation in animations and timing"}, {"role": "assistant", "content": "Here's using interpolation for dynamic animations:\n\n```holoscript\nscene AnimatedScene {\n  state {\n    animSpeed: 1.0\n    bounceHeight: 0.5\n    rotationSpeed: 90  // degrees per second\n    waveAmplitude: 0.3\n    waveFrequency: 2\n  }\n  \n  // Speed-controlled animation\n  object BouncingBall {\n    position: [0, 1, -3]\n    \n    animation Bounce {\n      property: 'position.y'\n      keyframes: [1, ${1 + state.bounceHeight}, 1]\n      duration: ${1000 / state.animSpeed}  // Faster at higher speed\n      loop: infinite\n      easing: 'ease-in-out'\n    }\n  }\n  \n  // Rotation with dynamic speed\n  object SpinningPlatform {\n    geometry: 'cylinder'\n    size: [2, 0.2, 2]\n    \n    animation Spin {\n      property: 'rotation.y'\n      keyframes: [0, 360]\n      duration: ${360000 / state.rotationSpeed}  // Time for full rotation\n      loop: infinite\n      easing: 'linear'\n    }\n  }\n  \n  // Wave animation with parameters\n  object[] WaveBlocks {\n    count: 10\n    \n    @for (let i = 0; i < 10; i++) {\n      object Block_${i} {\n        geometry: 'box'\n        position: [${i - 5}, 0, -5]\n        \n        animation Wave {\n          property: 'position.y'\n          // Phase offset creates wave effect\n          keyframes: [\n            ${Math.sin(i * 0.5) * state.waveAmplitude},\n            ${Math.sin(i * 0.5 + Math.PI) * state.waveAmplitude}\n          ]\n          duration: ${1000 / state.waveFrequency}\n          delay: ${i * 100}  // Staggered start\n          loop: infinite\n        }\n      }\n    }\n  }\n  \n  // Color animation with interpolated values\n  state {\n    pulseColors: ['#ff0000', '#00ff00', '#0000ff']\n    currentColorIndex: 0\n  }\n  \n  object PulsingOrb {\n    geometry: 'sphere'\n    \n    animation ColorPulse {\n      property: 'material.emissive'\n      keyframes: [\n        \"${state.pulseColors[state.currentColorIndex]}\",\n        \"${state.pulseColors[(state.currentColorIndex + 1) % 3]}\"\n      ]\n      duration: 2000\n      loop: infinite\n    }\n  }\n  \n  // Easing function selection\n  state {\n    easingType: 'elastic'  // linear, ease, elastic, bounce\n  }\n  \n  object DoorPanel {\n    animation Open {\n      property: 'position.x'\n      keyframes: [0, 2]\n      duration: 800\n      easing: \"${state.easingType}-out\"\n    }\n  }\n  \n  // Delay chains\n  state {\n    baseDelay: 200\n  }\n  \n  object[] Dominoes {\n    count: 5\n    \n    @for (let i = 0; i < 5; i++) {\n      object Domino_${i} {\n        animation Fall {\n          property: 'rotation.x'\n          keyframes: [0, 90]\n          duration: 300\n          delay: ${i * state.baseDelay}  // Cascading effect\n        }\n      }\n    }\n  }\n}\n```\n\nAnimation interpolation:\n- Duration: `${1000 / speed}`\n- Keyframes: `${calculated_value}`\n- Delays: `${index * baseDelay}`\n- Easing: `\"${easingType}-out\"`"}]}
{"messages": [{"role": "system", "content": "You are Brittney, a spatial programming assistant. Generate HoloScript code from natural language descriptions."}, {"role": "user", "content": "Template literals with complex expressions"}, {"role": "assistant", "content": "Here's advanced expression interpolation:\n\n```holoscript\nscene ComplexExpressions {\n  state {\n    player: {\n      name: 'Hero',\n      level: 15,\n      class: 'Mage',\n      stats: { str: 10, int: 25, dex: 12 }\n    }\n    enemies: [\n      { name: 'Goblin', hp: 50 },\n      { name: 'Orc', hp: 100 },\n      { name: 'Dragon', hp: 500 }\n    ]\n    gameTime: 3600  // seconds\n  }\n  \n  // Nested object access\n  ui_panel PlayerInfo {\n    text Stats {\n      content: \"${state.player.name} (Lv.${state.player.level} ${state.player.class})\"\n    }\n    \n    text DetailedStats {\n      content: \"STR: ${state.player.stats.str} | INT: ${state.player.stats.int} | DEX: ${state.player.stats.dex}\"\n    }\n  }\n  \n  // Method calls in interpolation\n  text TimeDisplay {\n    content: \"Time: ${formatTime(state.gameTime)}\"\n  }\n  \n  action formatTime(seconds) {\n    let mins = Math.floor(seconds / 60)\n    let secs = seconds % 60\n    return `${mins}:${secs.toString().padStart(2, '0')}`\n  }\n  \n  // Ternary expressions\n  object StatusIndicator {\n    trait Material {\n      color: ${state.player.stats.hp > 50 ? '#00ff00' : state.player.stats.hp > 25 ? '#ffff00' : '#ff0000'}\n    }\n  }\n  \n  // Array methods in interpolation\n  text EnemyCount {\n    content: \"Enemies: ${state.enemies.length}\"\n  }\n  \n  text StrongestEnemy {\n    content: \"Boss: ${state.enemies.reduce((max, e) => e.hp > max.hp ? e : max, state.enemies[0]).name}\"\n  }\n  \n  text TotalEnemyHP {\n    content: \"Total HP: ${state.enemies.reduce((sum, e) => sum + e.hp, 0)}\"\n  }\n  \n  // Computed property names\n  state {\n    selectedStat: 'int'\n  }\n  \n  text CurrentStat {\n    content: \"${state.selectedStat.toUpperCase()}: ${state.player.stats[state.selectedStat]}\"\n  }\n  \n  // Boolean to string\n  state {\n    isOnline: true\n    isPremium: false\n  }\n  \n  text Status {\n    content: \"Status: ${state.isOnline ? 'Online' : 'Offline'} ${state.isPremium ? '‚≠ê' : ''}\"\n  }\n  \n  // Math expressions\n  state {\n    damageBase: 10\n    critMultiplier: 2.5\n  }\n  \n  text DamageCalc {\n    content: \"Damage: ${state.damageBase * state.player.stats.int * 0.1} (Crit: ${state.damageBase * state.player.stats.int * 0.1 * state.critMultiplier})\"\n  }\n  \n  // String methods\n  text FormattedName {\n    content: \"${state.player.name.toUpperCase()} THE ${state.player.class.toUpperCase()}\"\n  }\n  \n  // Date/time\n  text Timestamp {\n    content: \"Saved: ${new Date().toLocaleDateString()}\"\n  }\n  \n  // Nullish coalescing\n  state {\n    guildName: null\n  }\n  \n  text Guild {\n    content: \"Guild: ${state.guildName ?? 'No Guild'}\"\n  }\n}\n```\n\nAdvanced patterns:\n- Nested access: `${obj.nested.prop}`\n- Methods: `${formatTime(val)}`\n- Ternary: `${cond ? a : b}`\n- Array methods: `${arr.reduce(...)}`\n- Computed keys: `${obj[key]}`\n- Nullish: `${val ?? default}`"}]}
{"messages": [{"role": "system", "content": "You are Brittney, a spatial programming assistant. Generate HoloScript code from natural language descriptions."}, {"role": "user", "content": "Interpolation in event handlers and logic"}, {"role": "assistant", "content": "Here's interpolation in event handlers and game logic:\n\n```holoscript\nscene EventLogic {\n  state {\n    score: 0\n    multiplier: 1\n    combo: 0\n    messages: []\n    currentTarget: null\n  }\n  \n  // Dynamic event messages\n  prefab Target {\n    object target {\n      state {\n        points: 100\n        name: 'Target'\n      }\n      \n      @on_grab {\n        let earned = ${state.points * scene.state.multiplier}\n        scene.state.score += earned\n        scene.state.combo++\n        \n        // Interpolated message\n        scene.showMessage(\"${state.name}: +${earned} points! (${scene.state.multiplier}x)\")\n        \n        if (scene.state.combo >= 5) {\n          scene.showMessage(\"üî• ${scene.state.combo} COMBO!\")\n        }\n      }\n    }\n  }\n  \n  // Dynamic sound selection\n  prefab Instrument {\n    object instrument {\n      state {\n        note: 'C'\n        octave: 4\n      }\n      \n      @on_grab {\n        audio.play(\"notes/${state.note}${state.octave}.mp3\")\n        console.log(\"Playing ${state.note}${state.octave}\")\n      }\n    }\n  }\n  \n  // Conditional logic with interpolation\n  state {\n    difficulty: 'normal'  // easy, normal, hard\n    difficultyMultipliers: {\n      easy: 0.5,\n      normal: 1.0,\n      hard: 2.0\n    }\n  }\n  \n  prefab Enemy {\n    object enemy {\n      state {\n        baseHealth: 100\n        type: 'Goblin'\n      }\n      \n      // Health scaled by difficulty\n      health: ${state.baseHealth * scene.state.difficultyMultipliers[scene.state.difficulty]}\n      \n      @on_collision(other) {\n        if (other.hasTag('weapon')) {\n          let damage = other.damage\n          self.health -= damage\n          \n          scene.showDamage(self.position, \"-${damage}\")\n          \n          if (self.health <= 0) {\n            scene.showMessage(\"${state.type} defeated!\")\n            spawn \"Explosion\" { position: self.position }\n            self.destroy()\n          } else {\n            scene.showMessage(\"${state.type}: ${Math.ceil(self.health)} HP remaining\")\n          }\n        }\n      }\n    }\n  }\n  \n  // Timer with interpolated display\n  state {\n    timeRemaining: 60\n    isRunning: true\n  }\n  \n  text Timer {\n    content: \"${state.timeRemaining > 10 ? '' : '‚ö†Ô∏è '}Time: ${state.timeRemaining}s\"\n    color: ${state.timeRemaining > 10 ? '#ffffff' : '#ff4444'}\n  }\n  \n  every(1000) {\n    if (state.isRunning && state.timeRemaining > 0) {\n      state.timeRemaining--\n      \n      if (state.timeRemaining === 10) {\n        audio.play(\"warning\")\n        scene.showMessage(\"‚ö†Ô∏è 10 seconds remaining!\")\n      }\n      \n      if (state.timeRemaining === 0) {\n        scene.showMessage(\"Time's up! Final score: ${state.score}\")\n        state.isRunning = false\n      }\n    }\n  }\n  \n  // Dynamic action dispatch\n  state {\n    powerUpType: 'speed'\n  }\n  \n  action activatePowerUp() {\n    let handler = \"apply${state.powerUpType.charAt(0).toUpperCase() + state.powerUpType.slice(1)}Boost\"\n    self[handler]()\n    scene.showMessage(\"${state.powerUpType.toUpperCase()} activated!\")\n  }\n  \n  action showMessage(msg) {\n    state.messages.push({\n      text: msg,\n      time: Date.now()\n    })\n  }\n}\n```\n\nEvent interpolation:\n- Dynamic messages: `\"${name}: +${points}\"`\n- Asset paths: `\"notes/${note}${octave}.mp3\"`\n- Computed properties: `${multipliers[difficulty]}`\n- Conditional display: `${condition ? icon : ''}`"}]}
